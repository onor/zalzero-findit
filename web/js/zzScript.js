define("../../config/config",[],function(){return{unionConnection:{url:document.domain,port:9933},unionGameServerId:"zalerioGameServer",userLevelImg:["carauselbelts_otherplayers_white_belt.png","carauselbelts_otherplayers_yellow_belt.png","carauselbelts_otherplayers_orange_belt.png","carauselbelts_otherplayers_green_belt.png","carauselbelts_otherplayers_blue_belt.png","carauselbelts_otherplayers_purple_belt.png","carauselbelts_otherplayers_red_belt.png","carauselbelts_otherplayers_brown_belt.png","carauselbelts_otherplayers_black_belt.png"],userLevelImgBig:["carauselbelts_main_player_white_belt.png","carauselbelts_main_player_yellow_belt.png","carauselbelts_main_player_orange_belt.png","carauselbelts_main_player_green_belt.png","carauselbelts_main_player_blue_belt.png","carauselbelts_main_player_purple_belt.png","carauselbelts_main_player_red_belt.png","carauselbelts_main_player_brown_belt.png","carauselbelts_main_player_black_belt.png"],isDevEnvironment:!0}}),define("../../config/./config",[],function(){return{unionConnection:{url:document.domain,port:9933},unionGameServerId:"zalerioGameServer",userLevelImg:["carauselbelts_otherplayers_white_belt.png","carauselbelts_otherplayers_yellow_belt.png","carauselbelts_otherplayers_orange_belt.png","carauselbelts_otherplayers_green_belt.png","carauselbelts_otherplayers_blue_belt.png","carauselbelts_otherplayers_purple_belt.png","carauselbelts_otherplayers_red_belt.png","carauselbelts_otherplayers_brown_belt.png","carauselbelts_otherplayers_black_belt.png"],userLevelImgBig:["carauselbelts_main_player_white_belt.png","carauselbelts_main_player_yellow_belt.png","carauselbelts_main_player_orange_belt.png","carauselbelts_main_player_green_belt.png","carauselbelts_main_player_blue_belt.png","carauselbelts_main_player_purple_belt.png","carauselbelts_main_player_red_belt.png","carauselbelts_main_player_brown_belt.png","carauselbelts_main_player_black_belt.png"],isDevEnvironment:!0}}),define("../../config/globals",["./config"],function(e){var t,n;return t={JOINED_ROOM:"joinedRoomListener",RESET_GAME_VARIABLES:"resetGameVariables",CLIENT_ADDED_TO_ROOM:"clientAddedListener",CLIENT_REMOVED_FROM_ROOM:"clientRemovedListener",ROOM_SNAPSHOT:"roomSnapshotListener",CLIENT_SNAPSHOT:"clientSnapshotListener",ROOM_ATTR_UPDATE:"roomAttrUpdateListener",CLIENT_ATTR_UPDATE:"clientAttrUpdateListener",ROOM_OCCUPANTCOUNT_UPDATE:"roomOccupantCountUpdateListener",LOGGED_IN:"onLoginResult",RECEIVE_MESSAGE:"messageListener",SEND_UPC_MESSAGE:"send_upc_message",RECEIVE_USERVO:"received_userVO",REMOVE_USERVO:"remove_userVO",UPDATE_TTL:"update_ttl",CONNECTION_CLOSE:"connection_close",SEND_CHAT_MESSAGE:"send_chat_message",UPDATE_LOCAL_TTL:"update_local_ttl",BID_CHANGED:"bid_changed",SERVER_MESSAGE:"SERVER_MESSAGE",WINNER_CHANGE:"winner_change",CLIENT_JOINED:"client_joined",CLIENT_LEFT:"client_left",OLOTUTS_MESSAGE:"olotuts_message",CLIENT_BETS_PLACED:"zalerioUserBetPlaced"},n=function(){var t,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L;return c=null,w=null,s=null,d=null,r={USER_ID:"UI",USER_DISPLAY_NAME:"UD",USER_NAME:"UN",USER_UNION_ID:"UU",USER_FACEBOOK_ID:"UF",USER_PARTY_ID:"UP",USER_SEAT_ID:"UR",Z_USER_SCORE:"ZS",MY_TURN:"MT",THEIR_TURN:"TT",ALL_PAST_GAME:"APG",USERINFO:"UINFO"},h={RIGHT_HUD:"RH"},o={ALL_PLAYER_INFO:"AP"},m={ROOM_ID:"GI",USER_TOTAL:"UT",USER_COUNT:"UC",WINNER_NAME:"WN",WINNER_ID:"WI",GAME_ENDED:"GE",TIME_LEFT:"TL",GAME_DURATION:"GD",START_TIME:"ST",END_TIME:"ET",ROOM_NAME:"RN",TOTAL_SEATS:"TS",ROOM_PRIZE_NAME:"RP",ROOM_MRP:"RM",ROOM_IMAGEROOM_MRP:"RI",TOTALROUNDS:"TR",CURRENTROUND:"CR",ROUND_ENDTIME:"RE",ROUND_ENDTIMEINMS:"EM",ROUND_NOOFBETS:"NB",BOARDVARS:"BV",BOARD_XY:"XY",TOTALFIGS:"TF",ROOM_ALLROUNDS:"AR",FIGURE_DETAILS:"FD",ZALERIO_SCORES:"ZS",GAME_FINISH:"FR",PLAYER_BETS_PLACE:"PP",ALL_PLAYER_INFO:"AP"},C={},L={},k={},f=function(e){var t,n;t={};for(n in e)t[e[n]]=n;return t},p=f(h),u=f(o),i=f(r),g=f(m),y=f(m),N={},T={},a="",b="",t=function(t,s){var o,u,a;e.isDevEnvironment&&(console.log("Added to room "+s),console.log("Current User local ID : "+n.currentUserDBId));for(o in r)this[r[o]]="-1";u=s.split("|"),a=u.length,o=0;while(o<a)i[u[o]]&&(this[u[o]]=u[o+1]),o+=3;this[r.USER_ID]&&(this[r.USER_UNION_ID]=t);if(this[r.USER_ID]===n.currentUserDBId){o=0;while(o<a)i[u[o]]&&(n.clientVars[u[o]]=u[o+1]),o+=3}return this},l=function(e){var t;return t=e,e&&n.userVOsIndex[e]&&(t=n.userVOsIndex[e][r.USER_DISPLAY_NAME]),t},S=function(e,t){t=t?parseInt(t):null;if(t&&!isNaN(t))return a=t},E=function(){return w--,w>0?v&&v.isTimerEnabled&&v.isTimerEnabled()&&v.clearTimer():v&&w<=0&&v.isTimerEnabled&&!v.isTimerEnabled()&&currentScreen!=="postscreen"&&(e.isDevEnvironment&&console.log("Pagerefresh.isTimerEnabled false!"),v.enableTimer()),jDocument.trigger(oloEvents.UPDATE_LOCAL_TTL,this.ttl)},x=function(e,t){return b&&clearInterval(b),t=t?parseInt(t):null,t&&typeof t=="number"&&(w=t),b=setInterval(E,1e4)},v=function(){var t,n,r;return r=null,n=function(){var t;t=this,r=setTimeout(function(){return redirectToPlayNow(gameInstId)},5e3);if(e.isDevEnvironment)return console.log("refresh timer set!")},t=function(){r=null;if(e.isDevEnvironment)return console.log("refresh timer cleared!")},{isTimerEnabled:function(){return r?!0:!1},enableTimer:function(){return n()},clearTimer:function(){return t()}}},{generateAttrVarsFn:function(e){return f(e)},roomCodes:m,clientCodes:r,msgCodes:h,dataObjCodes:o,dataObjVars:u,UserVO:t,userVOsIndex:C,roomVars:g,roomVarsFlag:y,clientVars:i,msgVars:p,userVOs:N,userFBVOs:T,getUserName:l,userVOsPartyIndex:k,getTtl:function(){return w},userVOsSeatIndex:L,getGameDuration:function(){return a},offlinePlayers:d,currentUserDBId:s}},window.zzGlobals=new n,window.zzEvents=t}),define("carouselView",["../../config/globals"],function(e){var t;return t=function(e,t,n,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A;s=document.getElementById(t),k=e,e=jQuery.parseJSON(e.PLRS),a={},$("#"+t).empty(),A=[];for(L in e){h=jQuery.parseJSON(e[L]),a[h.PFB]={GSS:h.GSS,CRS:h.CRS};if(h.GSS===3||h.GSS===5)continue;w=document.createElement("li"),w.style.display="block",d=document.createElement("div"),d.className="userArea",d.id="thisgame_seat_"+L,m=document.createElement("div"),m.className="userAreaImg",g=document.createElement("img"),g.className="backendImage",m.appendChild(g),typeof h.PL!="undefined"&&(parseInt(h.PL)===0&&(h.PL=1),y=document.createElement("img"),y.className="userlevelbelt otherbelt",y.src=baseUrl+"/images/zalerio_1.2/4.ingame_ui/carauselbelts_otherplayers/"+userLevelImg[parseInt(h.PL)-1],m.appendChild(y)),S=document.createElement("div"),S.className="userAreaName",b=document.createElement("div"),b.className="userLastPlayed",E=document.createElement("div"),E.className="userPlayStatus",T=document.createElement("div"),T.className="userRemind",N=document.createElement("div"),N.className="userRoundNo",x=document.createElement("div"),x.className="userOnlineStatus",f=document.createElement("div"),f.className="userAcceptDeclinedDiv",l=document.createElement("div"),l.innerHTML="Invited you (NEW)",i=document.createElement("span"),i.className="acceptSpan",i.innerHTML="Accept",i.onclick=function(){return acceptInvitation(n)},o=document.createElement("span"),o.innerHTML="Decline",o.className="declineSpan",o.onclick=function(){return sendDeclinedToServer(h.PSI)},d.appendChild(m),d.appendChild(S),E.innerHTML="not played yet",parseInt(h.GSS)!==1?(d.appendChild(b),d.appendChild(E),d.appendChild(T)):parseInt(h.UI)===parseInt(oloGlobals.currentUserDBId)?(f.appendChild(l),f.appendChild(i),f.appendChild(o),d.appendChild(f),E.innerHTML=""):(d.appendChild(E),d.appendChild(T),E.innerHTML="not accepted"),d.appendChild(N),d.appendChild(x),w.appendChild(d),s.appendChild(w),c="https://graph.facebook.com/"+h.PFB+"/picture",g.src=c,h.PDN&&(S.innerHTML=h.PDN),h.PLP&&(b.innerHTML=h.PLP),h.PCR&&(N.innerHTML=h.PCR),r&&k.SD&&(v=document.createElement("div"),v.className="userStartDate",v.innerHTML=k.SD,d.appendChild(v)),r==="pastGame"&&k.TP&&h.PR&&(C=document.createElement("div"),C.className="userTotal",h.PR==="1"?p=h.PR+"<sup>st</sup>":h.PR==="2"?p=h.PR+"<sup>nd</sup>":h.PR==="3"?p=h.PR+"<sup>rd</sup>":p=h.PR+"<sup>th</sup>",C.innerHTML=p+"/"+k.TP,d.appendChild(C)),h.PDN&&oloGlobals.clientVars.UI&&h.CRS===0&&(oloGlobals.clientVars.UI===h.UI?T.innerHTML="place your tiles...":oloGlobals.clientVars.UI!==h.UI&&(u={},u[h.PFB]={GSS:h.GSS,CRS:h.CRS},remindUserAdd(n,a,L,u,T),T.innerHTML="remind "+h.PDN.slice(0,6))),h.CRS===0?E.className="userPlayStatus":h.CRS===5?(E.innerHTML="...playing now",E.className="userPlayStatus green"):h.CRS===9&&(E.innerHTML="finished round",E.className="userPlayStatus green"),h.PON===1?A.push(x.className="userOnlineStatus status_online"):A.push(x.className="userOnlineStatus")}return A}}),define("gameEventManager",["../../config/config","../../config/globals","./carouselView"],function(config,globals,carouselView){var jDocument,zzUnionConnection;return jDocument=jQuery(document),zzUnionConnection=function(){var UPC,addOloListeners,askClientData,clientAddedListener,clientAttrUpdate,clientAttrUpdateListener,clientRemovedListener,clientSnapshotListener,closeListener,gameChangeListener,getClientSnapshotResult,init,joinedRoomListener,messageListener,msgManager,onLoginResult,onLogoutResult,orbiter,readyListener,resetGameVariables,roomAttrUpdateListener,roomOccupantCountUpdateListener,roomSnapshotListener,sendDeclinedToServer,sendUpcMessageToServer,zzListeners;return zzUnionConnection=function(){return window.UPC=UPC,init()},UPC=net.user1.orbiter.UPC,orbiter=null,msgManager=null,getClientSnapshotResult=function(){if(config.isDevEnvironment)return console.log("client snapshot result"),console.log(arguments)},roomOccupantCountUpdateListener=function(e,t){t=parseInt(t),t!==1&&t===2},roomAttrUpdateListener=function(e,t,n,r){if(zzGlobals.roomVars[n])return zzGlobals.roomVars[n]=r,config.isDevEnvironment&&console.log("Triggered room:",n,r),jDocument.trigger("room:"+n,r)},closeListener=function(e){var t,n;return n=this,jDocument.trigger(zzEvents.CONNECTION_CLOSE),t=document.getElementById("loadingGame"),t&&t.style&&(t.style.display="block"),window.setTimeout(function(){return document.location.reload(!0)},5e3)},onLoginResult=function(e,t,n){var r;return r=e,zzGlobals.currentUserDBId=t},clientAttrUpdate=function(e){switch(e){case clientCodes.USER_ID:break;case clientCodes.USER_DISPLAY_NAME:break;case clientCodes.USER_NAME:}},roomSnapshotListener=function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d;s=arguments.length,o=5;while(o<s)h=new zzGlobals.UserVO(arguments[o],arguments[o+3]),jDocument.trigger(zzEvents.RECEIVE_USERVO,[h,!1]),o+=5;typeof getGameInstWithFBFriends!="undefined"&&getGameInstWithFBFriends!==null&&zzGlobals.roomVars[zzGlobals.roomCodes.ROOM_ID]&&(c=getGameInstWithFBFriends([zzGlobals.roomVars[zzGlobals.roomCodes.ROOM_ID]])),l=i.split("|"),u=l.length,a=null,f=null,d=[],o=0;while(o<u){if(l[o]&&l[o+1]){a=l[o],f=l[o+1];if(zzGlobals.roomCodes.WINNING_BID===a)try{p=jQuery.parseJSON(f),zzGlobals.roomVars[zzGlobals.roomCodes.WINNER_ID]=p[zzGlobals.roomCodes.WINNER_ID],zzGlobals.roomVars[zzGlobals.roomCodes.WINNING_AMOUNT]=p[zzGlobals.roomCodes.WINNING_AMOUNT],zzGlobals.roomVars[zzGlobals.roomCodes.WINNER_NAME]=p[zzGlobals.roomCodes.WINNER_NAME],d.push(jDocument.trigger(zzEvents.WINNER_CHANGE))}catch(v){d.push(console.log(v))}else if(zzGlobals.roomVars[a]){if(a!==zzGlobals.roomCodes.WINNER_ID||f!=="-1")config.isDevEnvironment&&console.log("Triggered via ss room:",a,f),zzGlobals.roomVars[a]={},zzGlobals.roomVars[a]=f,d.push(jDocument.trigger("room:"+a,f))}else d.push(void 0)}else d.push(void 0);o+=2}return d},clientSnapshotListener=function(e,t,n,r,i){var s,o,u,a,f,l;config.isDevEnvironment&&console.log("ClientSnapshotListener ",i);if(userLoginId===n){u=i.split("|"),f=u.length,s=null,o=null,l=[],a=0;while(a<f)u[a]&&u[a+1]?(s=u[a],o=u[a+1],clientVars[s]?(clientVars[s]=o,l.push(jDocument.trigger("client:"+s,o))):l.push(void 0)):l.push(void 0),a+=2;return l}},joinedRoomListener=function(e){var t;return t=e,resetGameVariables(),jDocument.trigger(zzEvents.JOINED_ROOM)},resetGameVariables=function(){var e;return e=!1,jQuery("#userTopPicHUDMain").css("left","0"),jQuery("#scroll_carousel .selected").removeClass("selected"),jQuery("#gameBetPanel").css("display","block"),jQuery("#right_hud_"+gameInstId).addClass("selected")},clientAddedListener=function(e,t,n){var r;return r=new zzGlobals.UserVO(t,arguments[3]),config.isDevEnvironment&&console.log("user added and triggered : [UserVO:",r,",clientId:"+t+",args:"+arguments[3]+"]"),jDocument.trigger(zzEvents.CLIENT_JOINED,r),jDocument.trigger(zzEvents.RECEIVE_USERVO,[r,!0])},clientRemovedListener=function(e,t){var n;n=t;if(t&&zzGlobals.userVOsIndex[t])return jDocument.trigger(zzEvents.REMOVE_USERVO,t)},messageListener=function(e,t,n,r,i){return jDocument.trigger(zzEvents.SERVER_MESSAGE,[e,t,n,r,i,orbiter.getClientID()])},clientAttrUpdateListener=function(e,t,n,r,i){if(zzGlobals.currentUserDBId===n&&zzGlobals.clientVars[r])return zzGlobals.clientVars[r]=i,jDocument.trigger("client:"+r,i)},init=function(){orbiter=new net.user1.orbiter.Orbiter,msgManager=orbiter.getMessageManager(),addOloListeners(),config.isDevEnvironment&&(console.log("defining UPC"),console.log("ololisteners :",zzListeners),console.log("UPC definition completed!"));if(!orbiter.getSystem().isJavaScriptCompatible()){oloGame.displayChatMessage("systemChatMessage","Your browser is not supported.");return}return orbiter&&(orbiter.addEventListener(net.user1.orbiter.OrbiterEvent.READY,readyListener,this),orbiter.addEventListener(net.user1.orbiter.OrbiterEvent.CLOSE,closeListener,this)),jQuery(function(){return orbiter.connect(config.unionConnection.url,config.unionConnection.port)})},askClientData=function(e){return config.isDevEnvironment&&console.log("askfordata"),msgManager.sendUPC(UPC.SEND_SERVERMODULE_MESSAGE,config.unionGameServerId,"REQ","C|AGD","UID|"+zzGlobals.currentUserDBId)},readyListener=function(e){return msgManager.sendUPC(UPC.SEND_SERVERMODULE_MESSAGE,config.unionGameServerId,"REQ","C|LI","UI|"+userLoginId,"GI|"+gameInstId),jDocument.bind(zzEvents.SEND_UPC_MESSAGE,sendUpcMessageToServer)},gameChangeListener=function(gameInstIdTemp){var flag_roundBetsDrawn,flag_roundDrawn;return typeof gameInstIdTemp=="undefined"?eval("gameInstIdTemp = gameInstId"):eval("gameInstId = gameInstIdTemp"),zzGlobals.roomVars.FR=-1,flag_roundDrawn=!1,flag_roundBetsDrawn=!1,msgManager.sendUPC(UPC.SEND_SERVERMODULE_MESSAGE,config.unionGameServerId,"REQ","C|CG","UI|"+userLoginId,"GI|"+gameInstIdTemp)},sendDeclinedToServer=function(e,t){return jQuery("#accept_decline_"+t).text(""),jQuery("#accept_decline_"+t).css("cursor","default"),jQuery("#accept_decline_"+t).html('<div id="floatingBarsGs">\n<div class="blockG" id="rotateG_01">\n</div>\n<div class="blockG" id="rotateG_02">\n</div>\n<div class="blockG" id="rotateG_03">\n</div>\n<div class="blockG" id="rotateG_04">\n</div>\n<div class="blockG" id="rotateG_05">\n</div>\n<div class="blockG" id="rotateG_06">\n</div>\n<div class="blockG" id="rotateG_07">\n</div>\n<div class="blockG" id="rotateG_08">\n</div>\n</div>'),msgManager.sendUPC(UPC.SEND_SERVERMODULE_MESSAGE,config.unionGameServerId,"REQ","C|DG","GSID|"+e)},sendUpcMessageToServer=function(e,t,n,r,i,s,o){var u,a,f,l;config.isDevEnvironment&&console.log("sending upc message [upcFunctionCode:"+t+",p2:"+n+",p3:"+r+",p4:"+i+",p5:"+s+",p6:"+o+"]"),u=[];for(a=f=0,l=arguments.length;0<=l?f<l:f>l;a=0<=l?++f:--f){if(a===0)continue;arguments[a]?u.push(arguments[a]):u.push("")}config.isDevEnvironment&&console.log(u);if(t)return msgManager.sendUPC.apply(msgManager,u)},onLogoutResult=function(e,t){if(parseInt(unionClientId)===parseInt(e))return window.location="http://"+document.domain+baseUrl+"/site/closesession"},zzListeners={JOINED_ROOM:joinedRoomListener,CLIENT_ADDED_TO_ROOM:clientAddedListener,CLIENT_REMOVED_FROM_ROOM:clientRemovedListener,ROOM_SNAPSHOT:roomSnapshotListener,CLIENT_SNAPSHOT:clientSnapshotListener,ROOM_ATTR_UPDATE:roomAttrUpdateListener,CLIENT_ATTR_UPDATE:clientAttrUpdateListener,ROOM_OCCUPANTCOUNT_UPDATE:roomOccupantCountUpdateListener,LOGGED_IN:onLoginResult,LOGGED_OFF:onLogoutResult,RECEIVE_MESSAGE:messageListener,GET_CLIENT_SNAPSHOT_RESULT:getClientSnapshotResult},addOloListeners=function(){var e,t;t=[];for(e in zzListeners)msgManager&&msgManager.addMessageListener?zzListeners[e]==="messageListener"?t.push(msgManager.addMessageListener(UPC[e],zzListeners[e],this,gameInstId)):t.push(msgManager.addMessageListener(UPC[e],zzListeners[e],this)):t.push(void 0);return t},zzUnionConnection}()})