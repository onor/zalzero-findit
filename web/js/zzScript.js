define("../../config/config",[],function(){return{unionConnection:{url:document.domain,port:9933},unionGameServerId:"zalerioGameServer",userLevelImg:["carauselbelts_otherplayers_white_belt.png","carauselbelts_otherplayers_yellow_belt.png","carauselbelts_otherplayers_orange_belt.png","carauselbelts_otherplayers_green_belt.png","carauselbelts_otherplayers_blue_belt.png","carauselbelts_otherplayers_purple_belt.png","carauselbelts_otherplayers_red_belt.png","carauselbelts_otherplayers_brown_belt.png","carauselbelts_otherplayers_black_belt.png"],userLevelImgBig:["carauselbelts_main_player_white_belt.png","carauselbelts_main_player_yellow_belt.png","carauselbelts_main_player_orange_belt.png","carauselbelts_main_player_green_belt.png","carauselbelts_main_player_blue_belt.png","carauselbelts_main_player_purple_belt.png","carauselbelts_main_player_red_belt.png","carauselbelts_main_player_brown_belt.png","carauselbelts_main_player_black_belt.png"],isDevEnvironment:!0}}),define("../../helper/confirmBox",[],function(){var e;return e=function(e,t,n){var r,i,s,o,u,a;jQuery(".msg-outer-div").remove();try{playSound&&popupapperence.play()}catch(f){}return i=document.createElement("div"),i.className="msg-outer-div bounceIn animated",s=document.createElement("div"),s.className="msg-inner-div",u=document.createElement("div"),u.className="msgbox-msg",a=document.createElement("p"),a.innerHTML=e,o=document.createElement("div"),o.className="msgbox-ok",o.innerHTML="ok",typeof t=="undefined"?o.onclick=function(){try{playSound&&closebutton.play()}catch(e){}return jQuery(".msg-outer-div").remove()}:(r=document.createElement("div"),r.className="msgbox-cancel",r.innerHTML="cancel",o.className="msgbox-ok msgbox-cancel",r.onclick=function(){try{playSound&&closebutton.play()}catch(e){}return jQuery(".msg-outer-div").remove()},o.onclick=function(){t(n);try{playSound&&closebutton.play()}catch(e){}return jQuery(".msg-outer-div").remove()}),u.appendChild(a),s.appendChild(u),s.appendChild(o),r&&s.appendChild(r),i.appendChild(s),jQuery("#active-screen").append(jQuery(i))}}),define("../../config/./config",[],function(){return{unionConnection:{url:document.domain,port:9933},unionGameServerId:"zalerioGameServer",userLevelImg:["carauselbelts_otherplayers_white_belt.png","carauselbelts_otherplayers_yellow_belt.png","carauselbelts_otherplayers_orange_belt.png","carauselbelts_otherplayers_green_belt.png","carauselbelts_otherplayers_blue_belt.png","carauselbelts_otherplayers_purple_belt.png","carauselbelts_otherplayers_red_belt.png","carauselbelts_otherplayers_brown_belt.png","carauselbelts_otherplayers_black_belt.png"],userLevelImgBig:["carauselbelts_main_player_white_belt.png","carauselbelts_main_player_yellow_belt.png","carauselbelts_main_player_orange_belt.png","carauselbelts_main_player_green_belt.png","carauselbelts_main_player_blue_belt.png","carauselbelts_main_player_purple_belt.png","carauselbelts_main_player_red_belt.png","carauselbelts_main_player_brown_belt.png","carauselbelts_main_player_black_belt.png"],isDevEnvironment:!0}}),define("../../config/globals",["./config"],function(e){var t,n,r;return n={JOINED_ROOM:"joinedRoomListener",RESET_GAME_VARIABLES:"resetGameVariables",CLIENT_ADDED_TO_ROOM:"clientAddedListener",CLIENT_REMOVED_FROM_ROOM:"clientRemovedListener",ROOM_SNAPSHOT:"roomSnapshotListener",CLIENT_SNAPSHOT:"clientSnapshotListener",ROOM_ATTR_UPDATE:"roomAttrUpdateListener",CLIENT_ATTR_UPDATE:"clientAttrUpdateListener",ROOM_OCCUPANTCOUNT_UPDATE:"roomOccupantCountUpdateListener",LOGGED_IN:"onLoginResult",RECEIVE_MESSAGE:"messageListener",SEND_UPC_MESSAGE:"send_upc_message",RECEIVE_USERVO:"received_userVO",REMOVE_USERVO:"remove_userVO",UPDATE_TTL:"update_ttl",CONNECTION_CLOSE:"connection_close",SEND_CHAT_MESSAGE:"send_chat_message",UPDATE_LOCAL_TTL:"update_local_ttl",BID_CHANGED:"bid_changed",SERVER_MESSAGE:"SERVER_MESSAGE",WINNER_CHANGE:"winner_change",CLIENT_JOINED:"client_joined",CLIENT_LEFT:"client_left",OLOTUTS_MESSAGE:"olotuts_message",CLIENT_BETS_PLACED:"zalerioUserBetPlaced"},r=function(){var t,n,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L;return c=null,w=null,s=null,d=null,n={USER_ID:"UI",USER_DISPLAY_NAME:"UD",USER_NAME:"UN",USER_UNION_ID:"UU",USER_FACEBOOK_ID:"UF",USER_PARTY_ID:"UP",USER_SEAT_ID:"UR",Z_USER_SCORE:"ZS",MY_TURN:"MT",THEIR_TURN:"TT",ALL_PAST_GAME:"APG",USERINFO:"UINFO"},h={RIGHT_HUD:"RH"},o={ALL_PLAYER_INFO:"AP"},m={ROOM_ID:"GI",USER_TOTAL:"UT",USER_COUNT:"UC",WINNER_NAME:"WN",WINNER_ID:"WI",GAME_ENDED:"GE",TIME_LEFT:"TL",GAME_DURATION:"GD",START_TIME:"ST",END_TIME:"ET",ROOM_NAME:"RN",TOTAL_SEATS:"TS",ROOM_PRIZE_NAME:"RP",ROOM_MRP:"RM",ROOM_IMAGEROOM_MRP:"RI",TOTALROUNDS:"TR",CURRENTROUND:"CR",ROUND_ENDTIME:"RE",ROUND_ENDTIMEINMS:"EM",ROUND_NOOFBETS:"NB",BOARDVARS:"BV",BOARD_XY:"XY",TOTALFIGS:"TF",ROOM_ALLROUNDS:"AR",FIGURE_DETAILS:"FD",ZALERIO_SCORES:"ZS",GAME_FINISH:"FR",PLAYER_BETS_PLACE:"PP",ALL_PLAYER_INFO:"AP"},C={},L={},k={},f=function(e){var t,n;t={};for(n in e)t[e[n]]=n;return t},p=f(h),u=f(o),i=f(n),g=f(m),y=f(m),N={},T={},a="",b="",t=function(t,s){var o,u,a;e.isDevEnvironment&&(console.log("Added to room "+s),console.log("Current User local ID : "+r.currentUserDBId));for(o in n)this[n[o]]="-1";u=s.split("|"),a=u.length,o=0;while(o<a)i[u[o]]&&(this[u[o]]=u[o+1]),o+=3;this[n.USER_ID]&&(this[n.USER_UNION_ID]=t);if(this[n.USER_ID]===r.currentUserDBId){o=0;while(o<a)i[u[o]]&&(r.clientVars[u[o]]=u[o+1]),o+=3}return this},l=function(e){var t;return t=e,e&&r.userVOsIndex[e]&&(t=r.userVOsIndex[e][n.USER_DISPLAY_NAME]),t},S=function(e,t){t=t?parseInt(t):null;if(t&&!isNaN(t))return a=t},E=function(){return w--,w>0?v&&v.isTimerEnabled&&v.isTimerEnabled()&&v.clearTimer():v&&w<=0&&v.isTimerEnabled&&!v.isTimerEnabled()&&currentScreen!=="postscreen"&&(e.isDevEnvironment&&console.log("Pagerefresh.isTimerEnabled false!"),v.enableTimer()),jDocument.trigger(oloEvents.UPDATE_LOCAL_TTL,this.ttl)},x=function(e,t){return b&&clearInterval(b),t=t?parseInt(t):null,t&&typeof t=="number"&&(w=t),b=setInterval(E,1e4)},v=function(){var t,n,r;return r=null,n=function(){var t;t=this,r=setTimeout(function(){return redirectToPlayNow(gameInstId)},5e3);if(e.isDevEnvironment)return console.log("refresh timer set!")},t=function(){r=null;if(e.isDevEnvironment)return console.log("refresh timer cleared!")},{isTimerEnabled:function(){return r?!0:!1},enableTimer:function(){return n()},clearTimer:function(){return t()}}},{generateAttrVarsFn:function(e){return f(e)},roomCodes:m,clientCodes:n,msgCodes:h,dataObjCodes:o,dataObjVars:u,UserVO:t,userVOsIndex:C,roomVars:g,roomVarsFlag:y,clientVars:i,msgVars:p,userVOs:N,userFBVOs:T,getUserName:l,userVOsPartyIndex:k,getTtl:function(){return w},userVOsSeatIndex:L,getGameDuration:function(){return a},offlinePlayers:d,currentUserDBId:s}},t={ORIG_FIGS:"OF",BET_RESPONSE:"PB",BET_CHANGES:"CB",RESIGN_GAME:"RG",CLOSE_INVITE:"CI",RIGHT_HUD:"MT",DECLINE_STATUS:"DG"},window.jDocument=jQuery(document),window.zalerioCMDListners=t,window.zzGlobals=new r,window.zzEvents=n}),define("carouselView",["../../config/config"],function(e){return{drawCarousel:function(t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O;o=document.getElementById(n),L=t,t=jQuery.parseJSON(t.PLRS),f={},$("#"+n).empty(),O=[];for(A in t){p=jQuery.parseJSON(t[A]),f[p.PFB]={GSS:p.GSS,CRS:p.CRS};if(p.GSS===3||p.GSS===5)continue;E=document.createElement("li"),E.style.display="block",v=document.createElement("div"),v.className="userArea",v.id="thisgame_seat_"+A,g=document.createElement("div"),g.className="userAreaImg",y=document.createElement("img"),y.className="backendImage",g.appendChild(y),typeof p.PL!="undefined"&&(parseInt(p.PL)===0&&(p.PL=1),b=document.createElement("img"),b.className="userlevelbelt otherbelt",b.src=baseUrl+"/images/zalerio_1.2/4.ingame_ui/carauselbelts_otherplayers/"+e.userLevelImg[parseInt(p.PL)-1],g.appendChild(b)),x=document.createElement("div"),x.className="userAreaName",w=document.createElement("div"),w.className="userLastPlayed",S=document.createElement("div"),S.className="userPlayStatus",N=document.createElement("div"),N.className="userRemind",C=document.createElement("div"),C.className="userRoundNo",T=document.createElement("div"),T.className="userOnlineStatus",l=document.createElement("div"),l.className="userAcceptDeclinedDiv",c=document.createElement("div"),c.innerHTML="Invited you (NEW)",s=document.createElement("span"),s.className="acceptSpan",s.innerHTML="Accept",s.onclick=function(){return acceptInvitation(r)},u=document.createElement("span"),u.innerHTML="Decline",u.className="declineSpan",u.onclick=function(){return sendDeclinedToServer(p.PSI)},v.appendChild(g),v.appendChild(x),S.innerHTML="not played yet",parseInt(p.GSS)!==1?(v.appendChild(w),v.appendChild(S),v.appendChild(N)):parseInt(p.UI)===parseInt(zzGlobals.currentUserDBId)?(l.appendChild(c),l.appendChild(s),l.appendChild(u),v.appendChild(l),S.innerHTML=""):(v.appendChild(S),v.appendChild(N),S.innerHTML="not accepted"),v.appendChild(C),v.appendChild(T),E.appendChild(v),o.appendChild(E),h="https://graph.facebook.com/"+p.PFB+"/picture",y.src=h,p.PDN&&(x.innerHTML=p.PDN),p.PLP&&(w.innerHTML=p.PLP),p.PCR&&(C.innerHTML=p.PCR),i&&L.SD&&(m=document.createElement("div"),m.className="userStartDate",m.innerHTML=L.SD,v.appendChild(m)),i==="pastGame"&&L.TP&&p.PR&&(k=document.createElement("div"),k.className="userTotal",p.PR==="1"?d=p.PR+"<sup>st</sup>":p.PR==="2"?d=p.PR+"<sup>nd</sup>":p.PR==="3"?d=p.PR+"<sup>rd</sup>":d=p.PR+"<sup>th</sup>",k.innerHTML=d+"/"+L.TP,v.appendChild(k)),p.PDN&&zzGlobals.clientVars.UI&&p.CRS===0&&(zzGlobals.clientVars.UI===p.UI?N.innerHTML="place your tiles...":zzGlobals.clientVars.UI!==p.UI&&(a={},a[p.PFB]={GSS:p.GSS,CRS:p.CRS},remindUserAdd(r,f,A,a,N),N.innerHTML="remind "+p.PDN.slice(0,6))),p.CRS===0?S.className="userPlayStatus":p.CRS===5?(S.innerHTML="...playing now",S.className="userPlayStatus green"):p.CRS===9&&(S.innerHTML="finished round",S.className="userPlayStatus green"),p.PON===1?O.push(T.className="userOnlineStatus status_online"):O.push(T.className="userOnlineStatus")}return O}}}),define("rightHudController",["../../config/config"],function(e){var t,n,r,i;i=function(e,t){var n,i,s,o,u,a,f,l,c,h,p,d,v,m;f=document.getElementById("rightHUD-yourturn"),a=document.getElementById("rightHUD-theirturn");for(i in t)if(document.getElementById("right_hud_"+i)===null){l=document.createElement("div"),l.className="userArea",l.id="right_hud_"+i,gameInstId===i&&(l.className="userArea selected"),h=document.createElement("div"),h.className="imageWrapper",h.id="right_hud_Images"+i,l.appendChild(h),typeof t[i].CR!="undefined"&&(m=document.createElement("div"),m.innerHTML=t[i].CR,m.className="round_no",l.appendChild(m)),typeof t[i].ED!="undefined"&&(c=document.createElement("div"),c.innerHTML=t[i].ED,c.className="game_end_time",l.appendChild(c));for(u in t[i].PLSC){s=t[i].PLSC[u];if(t[i].PLRS[s].GSS===5||t[i].PLRS[s].GSS===3)continue;typeof t[i].PLRS[s].PFB!="undefined"&&(o=document.createElement("img"),o.src="https://graph.facebook.com/"+t[i].PLRS[s].PFB+"/picture",o.setAttribute("alt",t[i].PLRS[s].PFN),o.className=t[i].PLRS[s].PON===1?"online":"offline",o.id="who_am_i_"+s,h.appendChild(o)),typeof t[i].PLRS[s].GSS!="undefined"&&(t[i].PLRS[s].GSS===1&&zzGlobals.currentUserDBId===t[i].PLRS[s].UI?(v=document.createElement("div"),v.id="accept_decline_"+i,v.className="accept_decline",p=document.createElement("div"),p.innerHTML="Accept",p.className="right_hud_accept",acceptInvitationAdd(p,i),d=document.createElement("div"),d.innerHTML="Decline",d.className="right_hud_decline",declineInvitationAdd(d,s,i),v.appendChild(p),v.appendChild(d),l.appendChild(v)):zzGlobals.currentUserDBId===t[i].PLRS[s].UI&&r(l,t[i],i))}parseInt(t[i].GS)===1?f.appendChild(l):parseInt(t[i].GS)===2&&a.appendChild(l)}else{if(parseInt(t[i].GS)===0){jQuery("#right_hud_"+i).remove();continue}parseInt(t[i].GS)===1?jQuery("#right_hud_"+i).parent().attr("id")==="rightHUD-theirturn"&&(n=jQuery("#right_hud_"+i).detach(),n.appendTo("#rightHUD-yourturn")):parseInt(t[i].GS)===2&&jQuery("#right_hud_"+i).parent().attr("id")==="rightHUD-yourturn"&&(n=jQuery("#right_hud_"+i).detach(),n.appendTo("#rightHUD-theirturn")),typeof t[i].CR!="undefined"&&jQuery("#right_hud_"+i).find(".round_no").text(t[i].CR),typeof t[i].ED!="undefined"&&jQuery("#right_hud_"+i).find(".game_end_time").html(t[i].ED);for(s in t[i].PLRS)typeof t[i].PLRS[s].PON!="undefined"&&(t[i].PLRS[s].GSS===5||t[i].PLRS[s].GSS===3?jQuery("#who_am_i_"+s).remove():(o=document.getElementById("who_am_i_"+s),o.className=o.className&&t[i].PLRS[s].PON?"online":"offline")),typeof t[i].PLRS[s].GSS!="undefined"&&t[i].PLRS[s].GSS!==1&&zzGlobals.currentUserDBId===t[i].PLRS[s].UI&&(jQuery("#accept_decline_"+i).remove(),l=document.getElementById("right_hud_"+i),r(l,t[i],i))}jQuery("#rightHUD-yourturn").find(".userArea").length===0?jQuery("#rightHUD-yourturn").find(".newCarouselblanktile").length===0&&jQuery("#rightHUD-yourturn").append('<div class="newCarouselblanktile"></div>'):jQuery("#rightHUD-yourturn .newCarouselblanktile").remove();if(jQuery("#rightHUD-theirturn").find(".userArea").length!==0)return jQuery("#rightHUD-theirturn .newCarouselblanktile").remove();if(jQuery("#rightHUD-theirturn").find(".newCarouselblanktile").length===0)return jQuery("#rightHUD-theirturn").append('<div class="newCarouselblanktile"></div>')},r=function(e,n,r){return e.onclick=function(){try{playSound&&selectbuttonSound.play(),console.log("gameDetails",n)}catch(e){}return t(n,r)}},t=function(t,r){var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O;jQuery(".gdWrapper").remove(),u=document.createElement("div"),u.className="gdWrapper  animated fadeInRight",h=document.createElement("div"),h.className="gdScoreCardDiv",u.appendChild(h),o=document.createElement("div"),o.className="gdAllRoundDiv",o.id="gdAllRoundDivId",h.appendChild(o),drawRoundsPanel(o);try{for(L=O=1;O<=7;L=++O)i=roundVOsIdxRightHUD[L],console.log("roundVOsIdx",roundVOsIdxRightHUD),L>parseInt(t.CR)?i.className="notPlayedRound":i.className="doneRound",L===parseInt(t.CR)&&(i.className="currentRound"),N=i,C=L;N&&C&&(C===parseInt(t.CR)?N.className="currentFinalRound":N.className="finalRound")}catch(M){}y=document.createElement("div"),y.className="gdScoreInfoDiv",h.appendChild(y),m=document.createElement("table"),y.appendChild(m),S=document.createElement("div"),S.className="gdUsersImgdiv",u.appendChild(S),f=document.createElement("div"),f.className="gdReminddiv",u.appendChild(f),l=document.createElement("div"),l.className="gdReturndiv",l.onclick=function(){try{playSound&&closebutton.play()}catch(e){}return jQuery(".gdWrapper").remove()},u.appendChild(l),a=document.createElement("div"),a.className="gdPlaydiv",u.appendChild(a),r!==gameInstId?(n(a,r,".gdWrapper"),a.className="gdResumeDiv"):a.onclick=function(){try{playSound&&closebutton.play()}catch(e){}return jQuery(".gdWrapper").remove()},x=0,k={};for(T in t.PLSC){s=t.PLSC[T],k[t.PLRS[s].PFB]={GSS:t.PLRS[s].GSS,CRS:t.PLRS[s].CRS};if(t.PLRS[s].GSS===5||t.PLRS[s].GSS===3)continue;w=document.createElement("div"),w.className="gdUserImgDiv user_offline",b=document.createElement("img"),b.src="https://graph.facebook.com/"+t.PLRS[s].PFB+"/picture",b.className="gdUserImg",t.PLRS[s].PON===1&&(b.className="gdUserImg user_online"),E=document.createElement("img"),E.src=baseUrl+"/images/zalerio_1.2/4.ingame_ui/carauselbelts_main_player/"+e.userLevelImgBig[parseInt(t.PLRS[s].PL)-1],E.className="gdUserImgbelt",w.appendChild(E),w.appendChild(b),S.appendChild(w),g=document.createElement("tr"),g.className="userScoreHUD_player",c=document.createElement("td"),c.className="userScoreHUD_playerBetPlacedNo arrowclass",c.innerHTML="",t.PLRS[s].CRS===9&&(c.className="userScoreHUD_playerBetPlacedNo"),g.appendChild(c),v=document.createElement("td"),v.className="userScoreHUD_playerSerial",v.innerHTML=++x,g.appendChild(v),p=document.createElement("td"),p.className="userScoreHUD_playerName",p.innerHTML="",t.PLRS[s].PDN&&(parseInt(t.PLRS[s].PRE)!==1?(parseInt(t.PLRS[s].PON)===0&&(g.className="userScoreHUD_player GRAY"),p.innerHTML=t.PLRS[s].PDN):parseInt(t.PLRS[s].UI)===parseInt(zzGlobals.currentUserDBId)&&(A=document.createElement("s"),A.innerHTML=userObject.PDN,p.appendChild(A),c.className="userScoreHUD_playerBetPlacedNo")),g.appendChild(p),d=document.createElement("td"),d.className="userScoreHUD_playerScore",t.PLRS[s].PSC?d.innerHTML=t.PLRS[s].PSC:d.innerHTML="0",g.appendChild(d),m.appendChild(g)}try{playSound&&popupapperence.play()}catch(M){}return f.onclick=function(){remindUser(r,k)},jQuery("#active-screen").append(jQuery(u))},jDocument.bind("client:"+zzGlobals.msgCodes.RIGHT_HUD,i),n=function(e,t,n){var r;return r=t,jQuery(jQuery(e)).click(function(){return typeof n!="undefined"&&jQuery(n).remove(),jDocument.trigger("gameChangeListener",r)})}}),!0,define("animation",[],function(){var e;return e={ONE:"1",ONE_VIEW:"One screen at a time",START:"Be ginning of the list",END:"End of the list"},window.panelMoveMagnitudeCodes=e,{UserPanelMov:function(){var t;return t=function(e,t,n,r,i){return this.jUserPanelCenterNav=e,this.USER_PANEL_PLAYER_DIV_WIDTH=t!=null?t:145,this.USER_PANEL_PLAYER_DIV_WIDTH_PADDING=n!=null?n:0,this.USER_PANEL_VIEW_LIMIT=r!=null?r:1,this.currentNoOfUsers=i!=null?i:0,this.currentPos=0},t.prototype.moveUserPanelDivNow=function(){var e,t;e=void 0,t=this,e=this.currentPos*(this.USER_PANEL_PLAYER_DIV_WIDTH+this.USER_PANEL_PLAYER_DIV_WIDTH_PADDING),isDevEnvironment&&console.log("[currentNoOfUsers:",this.currentNoOfUsers,",currentPos:",this.currentPos,",USER_PANEL_PLAYER_DIV_WIDTH:",this.USER_PANEL_PLAYER_DIV_WIDTH,"USER_PANEL_PLAYER_DIV_WIDTH_PADDING:",this.USER_PANEL_PLAYER_DIV_WIDTH_PADDING,"startPx:",e," : Element : ",this.jUserPanelCenterNav);if(this.jUserPanelCenterNav!=null){isDevEnvironment&&console.log("step 1 for move");if(this.jUserPanelCenterNav.animate!=null)return isDevEnvironment&&console.log("step 2 for move"),this.jUserPanelCenterNav.animate({left:"-"+e+"px"},"fast",function(){return{}});if(this.jUserPanelCenterNav.style!=null&&this.jUserPanelCenterNav.style.offsetLeft!=null)return isDevEnvironment&&console.log("setting left prop"),this.jUserPanelCenterNav.style.offsetLeft=e+"px"}},t.prototype.move=function(t,n){var r,i;isDevEnvironment&&console.log("moveUserPanelFn() - "+t+","+n),i=0,r=!1,t=t!=="LEFT"?"RIGHT":"LEFT";switch(n){case e.ONE:i=1,r=!0;break;case e.ONE_VIEW:i=this.USER_PANEL_VIEW_LIMIT,r=!0}r===!0&&(t==="LEFT"?this.currentNoOfUsers<=this.USER_PANEL_VIEW_LIMIT||this.currentPos-i<1?n=e.START:this.currentPos-i>=this.currentNoOfUsers-this.USER_PANEL_VIEW_LIMIT?n=e.END:this.currentPos=this.currentPos-i:this.currentNoOfUsers<=this.USER_PANEL_VIEW_LIMIT||this.currentPos+i<1?n=e.START:this.currentPos+i>=this.currentNoOfUsers-this.USER_PANEL_VIEW_LIMIT?n=e.END:this.currentPos=this.currentPos+i);switch(n){case e.END:this.currentPos=this.currentNoOfUsers-this.USER_PANEL_VIEW_LIMIT;break;case e.START:this.currentPos=0}return this.moveUserPanelDivNow()},t}()}}),define("leftHudController",["../../config/config","./carouselView","./animation"],function(e,t,n){var r,i,s;return s=function(){var t,n;n=jQuery.parseJSON(zzGlobals.clientVars.UINFO),isDevEnvironment&&console.log("Player Plate : ",n),jQuery("#currentUserName").text(n.PDN);if(typeof n.PL!="undefined")return parseInt(n.PL)===0&&(n.PL=1),t=document.createElement("img"),t.className="userlevelbelt",t.src=baseUrl+"/images/zalerio_1.2/4.ingame_ui/carauselbelts_main_player/"+e.userLevelImgBig[parseInt(n.PL)-1],jQuery("#currentUserAreaImg .userlevelbelt").remove(),jQuery("#currentUserAreaImg").prepend(t)},i=function(){var e,i,s,o;o=jQuery.parseJSON(zzGlobals.roomVars.AP),console.log("All Users Data (zzGlobals.roomVars.AP)",o);for(e in o){s=jQuery.parseJSON(o[e]);break}return t.drawCarousel(s,"userTopPicHUDMain",e,"usercrousel"),i=new n.UserPanelMov(jQuery("#userTopPicHUDMain"),null,null,null,r(jQuery.parseJSON(s.PLRS))),jQuery("#navCarouselRight").unbind("click").click(function(){return i.move("RIGHT",panelMoveMagnitudeCodes.ONE)}),jQuery("#navCarouselLeft").unbind("click").click(function(){return i.move("LEFT",panelMoveMagnitudeCodes.ONE)})},r=function(e){var t,n,r;n=0;for(t in e){r=jQuery.parseJSON(e[t]);if(r.GSS===3||r.GSS===5)continue;e.hasOwnProperty(t)&&n++}return n},jDocument.bind("room:"+zzGlobals.roomCodes.ALL_PLAYER_INFO,i),jDocument.bind("client:"+zzGlobals.clientCodes.USERINFO,s),!0}),define("gamePlayController",["../../helper/confirmBox"],function(e){var t,n,r,i,s,o,u,a,f;return n=function(e,t,n,r){return window&&window.addEventListener?e.addEventListener(t,n,r):e.attachEvent("on"+t,n)},u=function(e,t,n,r){return window&&window.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent("on"+t,n)},o=function(e,t){var n;n=void 0;if(e!=null&&e.className)return n=new RegExp("(\\s|^)"+t+"(\\s|$)"),e.className=e.className.replace(n," ")},r={},i={},a={},t=function(){var i,a,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at;return t=function(){},at=this,S={},i="/olotheme/images/fbDefaultUser.gif",nt={},y={},b={},c={},w=-1,I="text/x-betiddata",tt={BASE_TILE_CLASS:{N:"box-blank box-black",Z:"box-blankZoom box-blackZoom"},OTHER_TURN:{N:"box-previousRoundOtherPlayer",Z:"box-previousRoundOtherPlayerZoom"},PRV_CURRPLYR_CORRECT_TILE:{N:"box-previousRoundCurrentPlayerCorrect",Z:"box-previousRoundCurrentPlayerCorrectZoom"},PRV_CURRPLYR_INCORRECT_TILE:{N:"box-previousRoundCurrentPlayerIncorrect",Z:"box-previousRoundCurrentPlayerIncorrectZoom"},CURRENT_CORRECT_TILE:{N:"box-currentRoundCorrect",Z:"box-currentRoundCorrectZoom"},CURRENT_INCORRECT_TILE:{N:"box-currentRoundIncorrect",Z:"box-currentRoundIncorrectZoom"},CURR_PLYR_FIG_COMPLETE:{N:"box-dizitCompleted",Z:"box-dizitCompletedZoom"},CURR_PLYR_NEWBET:{N:"box-newBet",Z:"box-newBetZoom"},JOKER_BET:{N:"joker",Z:"jokerZoom"},SUPPER_JOKER_BET:{N:"superJoker",Z:"superJokerZoom"}},A=!1,g={},X={},h={TILE_COUNT:"BC",PLAYER_INFO_OBJ:"PR",FIGURE_ID:"CF",BET_WINNER:"BW"},a={PLAYER_SEAT_ID:"PS",TILE_COUNT:"BC",BET_OBJ:"PB",ROUND_ID:"PR"},l={},p={},ot={ORIG_FIGS:"OF",BET_RESPONSE:"PB",BET_CHANGES:"CB",RESIGN_GAME:"RG",CLOSE_INVITE:"CI",RIGHT_HUD:"MT",DECLINE_STATUS:"DG"},L=!1,m={COORD_COUNT:"BC",COORD_NUM:"CN",COORD_X:"CX",COORD_Y:"CY"},ut={ORIG_MAP:{code:"OF",className:"box-RevealingNumber"}},Z={},d=null,v=null,G=null,Y={},k={},j=function(){var e;return isDevEnvironment&&console.log("BoardXY : "+zzGlobals.roomVars[zzGlobals.roomCodes.BOARD_XY]),e=zzGlobals.roomVars[zzGlobals.roomCodes.BOARD_XY].split(":"),d=e[0],v=e[1],T()},F=function(){return isDevEnvironment&&console.log("Round Bets : "+zzGlobals.roomVars[zzGlobals.roomCodes.ROUND_NOOFBETS]),G=zzGlobals.roomVars[zzGlobals.roomCodes.ROUND_NOOFBETS],V()},z=function(e,t){var n,r;isDevEnvironment&&console.log("parse Ar data : "+zzGlobals.roomVars[zzGlobals.roomCodes.ROOM_ALLROUNDS]),r=jQuery.parseJSON(t),Y={};for(n in r)Y[n]=jQuery.parseJSON(r[n]);return K()},K=function(){var e,t,n,r,i;L||C(),n=null,t=null;for(i in Y)e=Z[i],r=parseInt(Y[i].EM),r>0?e.className="notPlayedRound":e.className="doneRound",i===zzGlobals.roomVars[zzGlobals.roomCodes.CURRENTROUND]&&(e.className="currentRound"),t=e,n=i;if(t&&n)return n===zzGlobals.roomVars[zzGlobals.roomCodes.CURRENTROUND]?t.className="currentFinalRound":t.className="finalRound"},C=function(e){var t,n,r,i,s,o,u;typeof e=="undefined"?(i=document.getElementById("gameScore-round"),Z={}):(i=e,u={}),i.innerHTML="",r=0,n=null;for(o in Y)r++,s=document.createElement("li"),t=document.createElement("a"),t.href="#",t.className="notPlayedRound",t.innerHTML=Y[o].RN,isDevEnvironment&&console.log("roundVo : ",o),s.appendChild(t),typeof e=="undefined"?Z[o]=t:u[r]=t,i.appendChild(s),n=t;if(r>0)return n.innerHTML="Final",L=!0},V=function(){var e,t,r,i,s,o,a,l,h;try{if(tutorial===!0)return}catch(p){}a=document.getElementById("placeBetOnServer");if(w>0){s=0;while(0<=G?s<G:s>G)t="bet_"+s,r=c[t],r.className="betsAlreadyPlaced",r.dragBet=0,r.draggable!=null&&(r.draggable=!1),u(r,"dragstart",_,!1),0<=G?s++:s--;return a.href="#Already Placed Bets",a.className="bet_done",a.parentNode.setAttribute("class","bottomHUDbuttons-play-gray"),u(a,"click",f,!0)}e=0;for(o in y)e++;e<9?a.parentNode.setAttribute("class","bottomHUDbuttons-play-gray"):a.parentNode.setAttribute("class",""),flag_roundBetsDrawn||x(),h=[],s=0;while(0<=G?s<G:s>G){t="bet_"+s,r=c[t],i=!1;for(o in y){if(!__hasProp_.call(y,o))continue;l=y[o];if(l===t){i=!0;break}}i?(r.className="usedDraggableBets",r.dragBet=0,r.draggable!=null&&(r.draggable=!1),u(r,"dragstart",_,!1)):(r.className="draggableBets",r.dragBet=1,r.draggable!=null&&(r.draggable=!0),n(r,"dragstart",_,!1)),a.href="#Place Bets",a.className="",h.push(n(a,"click",et,!0)),0<=G?s++:s--}return h},x=function(){var e,t,i,s,o,u,a;c={},e=document.getElementById("gameBetPanel"),e.innerHTML="",a=[],u=0;while(0<=G?u<G:u>G)t="bet_"+u,s=document.createElement("li"),s.className="draggableBets",s.id=t,s.draggable!=null&&(s.draggable=!0),n(s,"dragstart",_,!1),i=document.createElement("a"),i.className="nbrs",i.id="new-"+u,r[u]=i.id,s.appendChild(i),e.appendChild(s),c[t]=s,a.push(o=!0),0<=G?u++:u--;return a},E=function(e){var t;return t=document.createElement("img"),t.src=baseUrl+"/images/zalerio_1.2/3.ingame_board/stand/stand_tile_pickup.png",t.width=45,e.dataTransfer.setDragImage(t,35,30)},_=function(e){isDevEnvironment&&console.log(e.target.id),E(e),e.dataTransfer.setData(I,this.id),e.target.className+=" moving";if(isDevEnvironment)return console.log(e.target,e.target.className),console.log("drag started!")},D=function(e){var t;t=this.getAttribute("placedBetId"),E(e),e.dataTransfer.setData(I,t),e.target.className+=" moving";if(isDevEnvironment)return console.log(e.target,e.target.className),console.log("drag started!")},U=function(e,t){return t*d+e},T=function(){var e,t,r,i,s,o,u;r=document.getElementById("gamewall"),r.setAttribute("dropzone","move s:text/x-betiddata"),n(r,"drop",B,!1),n(r,"dragover",H,!1),n(r,"dragenter",M,!1),n(r,"dragleave",P,!1),r.innerHTML="",s=0;while(0<=v?s<v:s>v){o=0;while(0<=d?o<d:o>d)e="box-blank box-black",i=document.createElement("div"),i.className=e,u=U(o,s),i.id="boardTile-"+u,i.setAttribute("tileIdx",u),o===d-1&&(i.className=e+" boardRowLastTile"),nt[u]=i,r.appendChild(i),0<=d?o++:o--;0<=v?s++:s--}return t=document.createElement("br"),t.setAttribute("clear","all"),r.appendChild(t)},O=function(e){if(A){if(e&&e.N)return e.Z?" "+e.N+" "+e.Z:" "+e.N+" "}else if(e?e.N:void 0)return" "+e.N+" ";return" "},J=function(){var e,t,r,i,s,o,u,a,f,c,v,m,b,w,E;e=O(tt.BASE_TILE_CLASS),s="",u="",t=null,i=zzGlobals.clientVars[zzGlobals.clientCodes.USER_SEAT_ID],o=0;for(E in nt){c=!1;if(!__hasProp_.call(nt,E))continue;t=nt[E],o=0,s=e,a=!0,t.draggable=!1,t.dragBet=0,u="",m=t.draggable;if(p[E]!=null){p[E][h.FIGURE_ID]&&(r=p[E][h.FIGURE_ID],r.indexOf("_NUMERIC_12")!==-1||r.indexOf("_NUMERIC_13")!==-1||r.indexOf("_NUMERIC_14")!==-1||r.indexOf("_NUMERIC_15")!==-1||r.indexOf("_NUMERIC_16")!==-1||r.indexOf("_NUMERIC_17")!==-1?(a=!1,s=e+O(tt.JOKER_BET),u=""):r.indexOf("_NUMERIC_11")!==-1&&(a=!1,s=e+O(tt.SUPPER_JOKER_BET),u="")),p[E][h.FIGURE_ID]||(s=e+O(tt.OTHER_TURN),u=""),w=p[E][h.PLAYER_INFO_OBJ];for(b in w)if(b===i){a=!1,r=p[E][h.FIGURE_ID],r?(s=e+O(tt.PRV_CURRPLYR_CORRECT_TILE),isDevEnvironment&&console.log("figureDetailsVO",r),g[r]===k[r]&&(o=10,s=e+O(tt.CURR_PLYR_FIG_COMPLETE),r.indexOf("_NUMERIC_12")!==-1||r.indexOf("_NUMERIC_13")!==-1||r.indexOf("_NUMERIC_14")!==-1||r.indexOf("_NUMERIC_15")!==-1||r.indexOf("_NUMERIC_16")!==-1||r.indexOf("_NUMERIC_17")!==-1?(s=e+O(tt.JOKER_BET),c=!0):r.indexOf("_NUMERIC_11")!==-1&&(s=e+O(tt.SUPPER_JOKER_BET),c=!0)),c?u="":u=p[E][h.TILE_COUNT]):(s=e+O(tt.PRV_CURRPLYR_INCORRECT_TILE),u=" ");break}}v=!1,zzGlobals.roomVars.FR==="1"&&(v=!0),v||(y[E]!=null&&y[E]!==null&&(a=!1,t.draggable=!0,t.dragBet=1,t.setAttribute("placedBetId",y[E]),s=e+O(tt.CURR_PLYR_NEWBET),n(t,"dragstart",D,!1),u=""),o<10&&l[E]!=null&&(parseInt(l[E])===1?(s=e+O(tt.CURR_PLYR_NEWBET),u=""):(s=e+O(tt.CURR_PLYR_NEWBET),u=""))),parseInt(E)%d===0&&(s+=" boardRowLastTile "),f=null,t.id==="boardTile-35"&&isDevEnvironment&&console.log("[dropEnable:",a,",currentEl:",t.getAttribute("droppable"));switch(t.getAttribute("droppable")){case"-1":a===!0&&(f="1");break;case"0":a===!0&&(f="1");break;case"1":a===!1&&(f="0");break;case"2":a===!1&&(f="0")}t.getAttribute("droppable")==null&&t.setAttribute("droppable","1"),f!==null&&t.setAttribute("droppable",f),t.className=s,t.innerHTML=u}return Q()},Q=function(){var e,t,n;n=[];for(t in nt){if(!__hasProp_.call(nt,t))continue;e=nt[t];switch(e.getAttribute("droppable")){case"1":n.push(e.setAttribute("droppable","2"));break;case"0":n.push(e.setAttribute("droppable","-1"));break;default:n.push(void 0)}}return n},H=function(e){return e.preventDefault&&e.preventDefault(),!1},M=function(e){var t;if(e.dataTransfer!=null){t=e.dataTransfer.getData(I);if(t!=null&&e.target!=null&&e.target.getAttribute!=null&&e.target.getAttribute("droppable")==="2")return e.target.className+=" box-drophover",!0}return!1},B=function(e){var t,n,r;playSound&&titledrop.play(),e.target!=null&&o(e.target,"box-drophover"),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),t=e.dataTransfer.getData(I);if(t!=null&&t!==""&&e.target.getAttribute("droppable")==="2"&&!y[e.target.getAttribute("tileidx")]){b[t]=e.target.getAttribute("tileidx"),y={};for(r in b){if(!__hasProp_.call(b,r))continue;n=b[r],y[n]=r}return J(),V(),!0}return!1},P=function(e){if(e.target!=null)return o(e.target,"box-drophover")},et=function(){var t,n,r,i,o,u;isDevEnvironment&&console.log("bet Validation before sen  ding the request t  o server");if(tutorial===!0)return;u=document.getElementById("placeBetOnServer");if(u.className==="bet_done"){e.messagePopup("Not so fast.... lets wait for your friends to play their turn");return}i="",t=0,playSound&&playbutton.play();for(r in b){if(!__hasProp_.call(b,r))continue;o=b[r],n=o.replace(/\bboardTile-\b/,""),i+=i===""?n:":"+n,++t,isDevEnvironment&&console.log("bets["+t+"] : "+n)}return i===""?(isDevEnvironment&&console.log("No bets placed!"),e.messagePopup("No bets placed!"),!1):t!==9?(isDevEnvironment&&console.log("Bets count is less then 9!"),e.messagePopup("Not so fast... please place all of your 9 tiles!"),!1):(isDevEnvironment&&console.log("every thing is fine s    end the bets to the server"),s(i),!1)},R=function(e,t,n){var r,i;return t=t||d,n=n||v,r=e%d,i=e/d,{x:r,y:i}},W=function(e,t){var n,r,i,s;if(e!=null&&e.code!=null&&e.className!=null){n=0,s=[];for(r in t)i=t[r],s.push(jQuery("#boardTile-"+parseInt(r)).addClass(e.className));return s}},q=function(t,n,r,i,s,o){var u,a,f,c,h,p,d,v,m,g,E;switch(n){case ot.DECLINE_STATUS:if(parseInt(o)===1)return e.messagePopup(popupMSG.declineInvite()),jQuery(".draggableBets").attr("draggable","false"),jQuery(".resignPopup").hide(),jQuery("#gameBetPanel").hide();break;case ot.RIGHT_HUD:g=jQuery.parseJSON(o);for(u in g){g[u]=jQuery.parseJSON(g[u]),g[u].PLRS=jQuery.parseJSON(g[u].PLRS),p=[],v=[];for(d in g[u].PLRS)g[u].PLRS[d]=jQuery.parseJSON(g[u].PLRS[d]),p[d]=parseInt(g[u].PLRS[d].PSC),v.push(d);v.sort(function(e,t){return p[t]-p[e]}),g[u].PLSC={};for(E in v)g[u].PLSC[E]=v[E]}return zzGlobals.msgVars.RH=g,isDevEnvironment&&console.log("MT & TT",zzGlobals.msgVars.RH),jDocument.trigger("client:"+zzGlobals.msgCodes.RIGHT_HUD,g);case ot.CLOSE_INVITE:return 0===o?e.messagePopup("Sorry!!! Unable to Close Invite, <br /> Plese try again.."):(jQuery(".status_show_popup").remove(),jQuery(".gdWrapper").remove());case ot.RESIGN_GAME:return o===0?(e.messagePopup("Sorry!!! Unable to Resign, \n Plese try again.."),jQuery("#gameBetPanel").show()):(h=1,jQuery(".draggableBets").attr("draggable","false"),jQuery("#gameBetPanel").hide(),jQuery(".resignPopup").hide());case ot.ORIG_FIGS:return a=jQuery.parseJSON(o),isDevEnvironment&&console.log(a),W(ut.ORIG_MAP,a);case ot.BET_RESPONSE:f=jQuery.parseJSON(o);if(isDevEnvironment)return console.log("zalerioCMDListners.BET_RESPONSE if failed : ",f);break;case ot.BET_CHANGES:l={},c=jQuery.parseJSON(o),isDevEnvironment&&console.log("zalerioCMDListners.BET_CHANGES : ",c),y={},b={};for(u in c)if(u==="PB"){X=jQuery.parseJSON(c[u]);for(m in X)l[m]=X[m]}return w=c.BC,jDocument.trigger(zzEvents.CLIENT_BETS_PLACED,w),V(),J()}},N=function(e){var t,n,r,i;isDevEnvironment&&console.log("responseObj in drawResponseTiles(): ",e),i=[];for(r in e)t=e[r],n=document.getElementById("boardTile-"+r),t===0||t===1?t===1?(n.className=n.className+" box-MyTurn",i.push(n.innerHTML="N")):(n.className=n.className+" box-MyWorngTurn",i.push(n.innerHTML="X")):i.push(void 0);return i},rt=function(e,t){var n,r,i,s,o,u,a,f;g={},X={},s=document.getElementById("loadingGame"),s!=null&&s.style!=null&&(s.style.display="none"),p={},r=jQuery.parseJSON(t);for(o in r){i=r[o],n=jQuery.parseJSON(i);if(n["PR"]!=null){n.PR=jQuery.parseJSON(n.PR);for(f in n.PR)n["CF"]!=null&&(a={},X[f]&&(a=X[f]),a[o]=1,X[f]=a,zzGlobals.clientVars[zzGlobals.clientCodes.USER_SEAT_ID]===f&&(u=0,g[n["CF"]]!=null&&(u=g[n.CF]),g[n.CF]=++u))}p[o]=n}return J()},it=function(e,t){k={};if(t!=null)return k=jQuery.parseJSON(t)},st=function(e){return e!=null&&e===!0?A=!0:A=!1,J()},jQuery(function(){var e,t,n,r;return jQuery("#zoomBtm").click(function(){return jQuery(".playersInfo").toggleClass("playersInfoZoom"),jQuery(".turnBase").toggleClass("turnBaseZoom"),jQuery(".playableArea").toggleClass("playableAreaZoom"),jQuery("#gamewall").toggleClass("game_wallZoom"),jQuery(".box-MyTurn").toggleClass("box-MyTurnZoom"),jQuery(".box-MyWorngTurn").toggleClass("box-MyWorngTurnZoom"),jQuery(".box-RevealingNumber").toggleClass("box-RevealingNumberZoom"),jQuery(".box-OthersTurn").toggleClass("box-OthersTurnZoom"),jQuery(".box-priviousOthersTurn").toggleClass("box-priviousOthersTurnZoom"),jQuery(".panelZoom").toggleClass("panelZoomZoom"),jQuery(".zoomBtm").toggleClass("zoomBtmZoom"),jQuery(".dragFromHere").toggleClass("dragFromHereZoom"),jQuery(".nbrs").toggleClass("nbrsZoom"),jQuery(".nbrs-Panel").toggleClass("nbrs-PanelZoom"),st(A?!1:!0)}),t=jQuery("#showOnMouseOver"),r=t.find(".roundForBidsCount")[0],n=jQuery(t.find(".roundForBidsCountUl")[0]),isDevEnvironment&&console.log("jTileHoverDiv : ",t),e=!1,jQuery("#gamewall").delegate(".box-previousRoundOtherPlayer,.box-previousRoundCurrentPlayerIncorrect,.box-previousRoundCurrentPlayerCorrect,.box-dizitCompleted,.joker,.superJoker","mouseover mouseout",function(s){var o,u,a,f,l,c,m,g,y,b,w,E,S,x,T,N;N=jQuery.parseJSON(zzGlobals.roomVars.AP);for(f in N){N[f]=jQuery.parseJSON(N[f]),N[f].PLRS=jQuery.parseJSON(N[f].PLRS);for(w in N[f].PLRS)N[f].PLRS[w]=jQuery.parseJSON(N[f].PLRS[w])}if(s.type==="mouseover"&&!e){S=this.getAttribute("tileIdx"),isDevEnvironment&&console.log("offset :",this.offsetLeft+" : "+this.offsetTop);if(p[S]!=null){b=p[S][h.PLAYER_INFO_OBJ],E="",l="";for(y in b)isDevEnvironment&&console.log("mouseover",zzGlobals.userVOsSeatIndex[y].UR),N[f].PLRS[y]!=null&&N[f].PLRS[y].PFB!=null?l="https://graph.facebook.com/"+N[f].PLRS[y].PFB+"/picture":l=i,N[f].PLRS[y]!=null&&(o=p[S][h.FIGURE_ID],typeof o!="undefined"&&(o.indexOf("_NUMERIC_12")!==-1||o.indexOf("_NUMERIC_13")!==-1||o.indexOf("_NUMERIC_14")!==-1||o.indexOf("_NUMERIC_15")!==-1||o.indexOf("_NUMERIC_16")!==-1||o.indexOf("_NUMERIC_17")!==-1?E+="<li><img src='"+baseUrl+"/images/zalerio_1.2/3.ingame_board/board/player_countindicator_joker.png' alt='Joker' ></li>":o.indexOf("_NUMERIC_11")!==-1&&(E+="<li><img src='"+baseUrl+"/images/zalerio_1.2/3.ingame_board/board/player_countindicator_Superjoker.png' alt='Supper Joker' ></li>")),E+="<li><img src='"+l+"' alt='"+N[f].PLRS[y].PFB+"' ></li>");n.html(E),r.innerHTML=p[S][h.TILE_COUNT],x=parseInt(S),g=x/d,m=x%v,c=g>v/2?!1:!0,T=m>d/2?!1:!0,u=s.pageX+10,a=s.pageY,this.offsetLeft>300&&(u=u-$("#showOnMouseOver").width()-10),this.offsetTop>400&&(a-=$("#showOnMouseOver").height()),$(".roundForBidsCount").remove(),t.show().offset({top:a,left:u})}e=!0;if(isDevEnvironment)return console.log("enlarged")}else if(s.type==="mouseout"){t.hide(),e=!1;if(isDevEnvironment)return console.log("resetting")}}),jDocument.bind("room:"+zzGlobals.roomCodes.FIGURE_DETAILS,it),jDocument.bind("room:"+zzGlobals.roomCodes.BOARD_XY,j),jDocument.bind("room:"+zzGlobals.roomCodes.ROUND_NOOFBETS,F),jDocument.bind("room:"+zzGlobals.roomCodes.ROOM_ALLROUNDS,z),jDocument.bind("room:"+zzGlobals.roomCodes.BOARDVARS,rt),jDocument.bind("room:"+zzGlobals.roomCodes.CURRENTROUND,K),jDocument.bind(zzEvents.SERVER_MESSAGE,q)}),t}.call(this),s=function(e){return jDocument.trigger(zzEvents.SEND_UPC_MESSAGE,[UPC.SEND_ROOMMODULE_MESSAGE,zzGlobals.roomVars[zzGlobals.roomCodes.ROOM_ID],"RQ","C|PB","BI|"+e])},f=function(){var e,t;isDevEnvironment&&console.log("bet Validation before sen  ding the request t  o server"),t="";for(e in r)t+=t===""?r[e]:":"+r[e],isDevEnvironment&&console.log("bets["+e+"] : "+r[e]);return isDevEnvironment&&console.log("[betStr: "+t+"]"),t===""?(isDevEnvironment&&console.log("No bets placed!"),messagePopup("No bets placed!"),!1):(isDevEnvironment&&console.log("every thing is fine end the bets to the server"),s(t),!1)}}),define("../../popup/../helper/utils",[],function(){return{addEventHandler:function(e,t,n,r){return window&&window.addEventListener?e.addEventListener(t,n,r):e.attachEvent("on"+t,n)},removeEventHandler:function(e,t,n,r){return window&&window.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent("on"+t,n)},removeClassName:function(e,t){var n;n=void 0;if(e!=null&&e.className)return n=new RegExp("(\\s|^)"+t+"(\\s|$)"),e.className=e.className.replace(n," ")}}}),define("../../popup/resignPopup",["../helper/utils"],function(e){var t,n,r;return t=function(){return jQuery("#bottomHUDbuttons-more").click(function(){var e,t,n,r,i;r=0,i=jQuery.parseJSON(zzGlobals.roomVars.AP);for(t in i){i[t]=jQuery.parseJSON(i[t]),i[t].PLRS=jQuery.parseJSON(i[t].PLRS);for(n in i[t].PLRS)i[t].PLRS[n]=jQuery.parseJSON(i[t].PLRS[n]),(i[t].PLRS[n].GSS===2||i[t].PLRS[n].GSS===1)&&++r;break}e=jQuery.parseJSON(zzGlobals.clientVars.UINFO);if(r>1&&parseInt(zzGlobals.roomVars.FR)!==1&&parseInt(e.PRE)!==1)return jQuery(".resignPopup").show()})},t(),r=function(){return jQuery(".draggableBets").attr("draggable","false"),jQuery(".resignPopup").hide(),jQuery("#gameBetPanel").hide(),jDocument.trigger(zzEvents.SEND_UPC_MESSAGE,[UPC.SEND_ROOMMODULE_MESSAGE,zzGlobals.roomVars[zzGlobals.roomCodes.ROOM_ID],"RQ","C|RG"])},n=document.getElementById("resignme"),e.addEventHandler(n,"click",r,!1)}),define("../../popup/showInviteStatus",[],function(){var e;return e=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_;a=document.createElement("div"),a.className="status_show_popup zalerio_popup",a.id="invitestatus",a.style.display="block",u=document.createElement("div"),u.id="score_friendpopup",u.className="outer_base",f=document.createElement("a"),f.id="close",f.className="positionAbsolute",f.onclick=function(){return jQuery(".status_show_popup").remove(),!1},l=document.createElement("div"),l.className="invite_status_base",l.style.paddingTop="32px",x=document.createElement("div"),x.className="topUserInfo",c=document.createElement("div"),c.className="statusWrapper",h=document.createElement("div"),h.className="acceptBlock",m=document.createElement("div"),m.className="inviteBlock",d=document.createElement("div"),d.className="declineBlock",p=document.createElement("div"),p.className="buttonWrapper",y=document.createElement("div"),y.className="leftButtonWrapper",g=document.createElement("div"),g.className="leftButton",g.innerHTML="Close Invitations",g.onclick=function(){return closeInvits()},E=document.createElement("div"),E.className="textLeftButton",E.innerHTML="Game will kick-off with all friends that have accepted your game invitation so far",w=document.createElement("div"),w.className="rightButtonWrapper",b=document.createElement("div"),b.className="rightButton",b.innerHTML="Send Reminder",S=document.createElement("div"),S.className="textRightButton",S.innerHTML="Friends who did not respond yet will get a gentle reminder to join your game...";for(O in e){A=e[O],k=A.TP,C=A.GCB,r=jQuery.parseJSON(A.PLRS);break}o=[],t=[],n=[],T=[];for(M in r)L=jQuery.parseJSON(r[M]),parseInt(L.GSS)===1?(i=document.createElement("img"),i.src="https://graph.facebook.com/"+L.PFB+"/picture",o.push(i)):parseInt(L.GSS)===2?(i=document.createElement("img"),i.src="https://graph.facebook.com/"+L.PFB+"/picture",t.push(i)):parseInt(L.GSS)===3?(i=document.createElement("img"),i.src="https://graph.facebook.com/"+L.PFB+"/picture",n.push(i)):T.push(L.GSS);v=document.createElement("div"),v.className="imgWrapper";if(parseInt(C)!==parseInt(zzGlobals.currentUserDBId))return;if(t.length+n.length>k/2&&o.length!==0){if(zzGlobals.inviteStatus===null||typeof zzGlobals.inviteStatus=="undefined"||T.length+t.length+n.length>zzGlobals.inviteStatus){zzGlobals.inviteStatus=T.length+t.length+n.length;if(t.length!==0){s=document.createElement("div"),s.className="imgWrapper",N=document.createElement("span"),N.innerHTML="Accepted";for(_ in t)s.appendChild(t[_]);h.appendChild(N),h.appendChild(s)}if(n.length!==0){s=document.createElement("div"),s.className="imgWrapper",N=document.createElement("span"),N.innerHTML="Declined";for(_ in n)s.appendChild(n);d.appendChild(N),d.appendChild(s)}if(o.length!==0){s=document.createElement("div"),s.className="imgWrapper",N=document.createElement("span"),N.innerHTML="Not responded yet ...";for(_ in o)console.log("invitedImgs",o),s.appendChild(o[_]);m.appendChild(N),m.appendChild(s)}return c.appendChild(h),c.appendChild(d),c.appendChild(m),l.appendChild(x),l.appendChild(c),y.appendChild(g),y.appendChild(E),w.appendChild(b),w.appendChild(S),p.appendChild(y),p.appendChild(w),l.appendChild(p),u.appendChild(f),u.appendChild(l),a.appendChild(u),jQuery(".status_show_popup").remove(),jQuery("body").append(a)}return}return},jDocument.bind("dataObj:"+zzGlobals.dataObjCodes.ALL_PLAYER_INFO,e),!0}),define("../../popup/showFinalScore",[],function(){var e;return e=function(){var e,t,n,r,i,s,o;try{if(zzGlobals.roomVars.FR==="1"){jQuery("#gameBetPanel").hide(),jQuery(".resignPopup").hide(),t=0,i=[],r="",e=!1,o=zzGlobals.dataObjVars.AP;for(n in o.PLSC){s=o.PLSC[n];if(parseInt(o.PLRS[s].PRE)===1||parseInt(o.PLRS[s].GSS)!==2){parseInt(zzGlobals.currentUserDBId)===parseInt(o.PLRS[s].UI)&&(e=!0);continue}t===0?i.push("<div  id='score"+ ++t+"'><img src='https://graph.facebook.com/"+o.PLRS[s].PFB+"/picture' /><div class='name'>"+o.PLRS[s].PDN+"</div><div class='score'>"+o.PLRS[s].PSC+"</div></div>"):r+="<div class='score_rep' id='score"+ ++t+"'><div class='rank'>"+t+"nd</div><img src='https://graph.facebook.com/"+o.PLRS[s].PFB+"/picture' /><div class='name'>"+o.PLRS[s].PDN+"</div><div class='score'>"+o.PLRS[s].PSC+"</div></div>"}return t<2||e||resignStatus===1?(jQuery("#rematch").hide(),jQuery(".dismiss").css({marginTop:"1px",marginLeft:"50px"})):(jQuery("#rematch").show(),jQuery(".dismiss").css({marginTop:"",marginLeft:""})),i.push(r),jQuery("#topScore_div").html(i[0]),jQuery("#bottomScore_div").html(i[1]),jQuery(".score_show_popup").css("display","block")}}catch(u){}},jDocument.bind("dataObj:"+zzGlobals.dataObjCodes.ALL_PLAYER_INFO,e)}),define("../../popup/showFrndSelector",[],function(){return{showFrndSelector:function(){var e,t,n;return typeof n!="undefined"&&n===!0&&(e=jQuery(".box-blank"),e.text(""),e.removeClass(),e.addClass("box-blank box-black")),n=!1,t={},FB.api({method:"fql.query",query:"SELECT uid, name, pic_square, online_presence, username FROM user WHERE uid IN (SELECT uid2 FROM friend WHERE uid1 = me()) order by name"},function(e){var n,r,i,s,o,u,a,f;for(s=0,u=e.length;s<u;s++){r=e[s],t((f=e([r]),r=f[0],f)),n="";for(o=0,a=t.length;o<a;o++)i=t[o],n+='<div class="rep"><img src="'+t[i].pic_square+'" /><div>'+t[i].name+"<br/></div>",n+='<input type="button" style="display:none" value="'+t[i].uid+'" class="status" />',n+='<span class="'+t[i].online_presence+'">'+t[i].online_presence+"</span>",n+='<a class="select_button right">Select</a></div><div class="line"></div>'}return $.ajax({type:"POST",url:siteUrl+"/user/getFriend"}).done(function(e){$("body").append(e),$("#floatingBarsG").css("display","none"),$(".friendlist").html(n);if(playSound)return popupapperence.play()})})}}}),define("gameEventManager",["../../config/config","../../helper/confirmBox","../../config/globals","./carouselView","./rightHudController","./leftHudController","./gamePlayController","../../popup/resignPopup","../../popup/showInviteStatus","../../popup/showFinalScore","../../popup/showFrndSelector"],function(config,confirmBox,globals,carouselView,rightHudController,leftHudController,gamePlayController,resignPopup,showInviteStatus,showFinalScore,showFrndSelector){var zzUnionConnection;return zzUnionConnection=function(){var UPC,addOloListeners,askClientData,clientAddedListener,clientAttrUpdate,clientAttrUpdateListener,clientRemovedListener,clientSnapshotListener,closeListener,gameChangeListener,getClientSnapshotResult,init,joinedRoomListener,messageListener,msgManager,onLoginResult,onLogoutResult,orbiter,readyListener,resetGameVariables,roomAttrUpdateListener,roomOccupantCountUpdateListener,roomSnapshotListener,sendDeclinedToServer,sendUpcMessageToServer,zzListeners;return zzUnionConnection=function(){return window.UPC=UPC,init()},UPC=net.user1.orbiter.UPC,orbiter=null,msgManager=null,getClientSnapshotResult=function(){if(config.isDevEnvironment)return console.log("client snapshot result"),console.log(arguments)},roomOccupantCountUpdateListener=function(e,t){t=parseInt(t),t!==1&&t===2},roomAttrUpdateListener=function(e,t,n,r){if(zzGlobals.roomVars[n])return zzGlobals.roomVars[n]=r,config.isDevEnvironment&&console.log("Triggered room:",n,r),jDocument.trigger("room:"+n,r)},closeListener=function(e){var t,n;return n=this,jDocument.trigger(zzEvents.CONNECTION_CLOSE),t=document.getElementById("loadingGame"),t&&t.style&&(t.style.display="block"),window.setTimeout(function(){return document.location.reload(!0)},5e3)},onLoginResult=function(e,t,n){var r;return r=e,zzGlobals.currentUserDBId=t},clientAttrUpdate=function(e){switch(e){case clientCodes.USER_ID:break;case clientCodes.USER_DISPLAY_NAME:break;case clientCodes.USER_NAME:}},roomSnapshotListener=function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d;s=arguments.length,o=5;while(o<s)h=new zzGlobals.UserVO(arguments[o],arguments[o+3]),jDocument.trigger(zzEvents.RECEIVE_USERVO,[h,!1]),o+=5;typeof getGameInstWithFBFriends!="undefined"&&getGameInstWithFBFriends!==null&&zzGlobals.roomVars[zzGlobals.roomCodes.ROOM_ID]&&(c=getGameInstWithFBFriends([zzGlobals.roomVars[zzGlobals.roomCodes.ROOM_ID]])),l=i.split("|"),u=l.length,a=null,f=null,d=[],o=0;while(o<u){if(l[o]&&l[o+1]){a=l[o],f=l[o+1];if(zzGlobals.roomCodes.WINNING_BID===a)try{p=jQuery.parseJSON(f),zzGlobals.roomVars[zzGlobals.roomCodes.WINNER_ID]=p[zzGlobals.roomCodes.WINNER_ID],zzGlobals.roomVars[zzGlobals.roomCodes.WINNING_AMOUNT]=p[zzGlobals.roomCodes.WINNING_AMOUNT],zzGlobals.roomVars[zzGlobals.roomCodes.WINNER_NAME]=p[zzGlobals.roomCodes.WINNER_NAME],d.push(jDocument.trigger(zzEvents.WINNER_CHANGE))}catch(v){d.push(console.log(v))}else if(zzGlobals.roomVars[a]){if(a!==zzGlobals.roomCodes.WINNER_ID||f!=="-1")config.isDevEnvironment&&console.log("Triggered via ss room:",a,f),zzGlobals.roomVars[a]={},zzGlobals.roomVars[a]=f,d.push(jDocument.trigger("room:"+a,f))}else d.push(void 0)}else d.push(void 0);o+=2}return d},clientSnapshotListener=function(e,t,n,r,i){var s,o,u,a,f,l;config.isDevEnvironment&&console.log("ClientSnapshotListener ",i);if(userLoginId===n){u=i.split("|"),f=u.length,s=null,o=null,l=[],a=0;while(a<f)u[a]&&u[a+1]?(s=u[a],o=u[a+1],clientVars[s]?(clientVars[s]=o,l.push(jDocument.trigger("client:"+s,o))):l.push(void 0)):l.push(void 0),a+=2;return l}},joinedRoomListener=function(e){var t;return t=e,resetGameVariables(),jDocument.trigger(zzEvents.JOINED_ROOM)},resetGameVariables=function(){var e;return e=!1,jQuery("#userTopPicHUDMain").css("left","0"),jQuery("#scroll_carousel .selected").removeClass("selected"),jQuery("#gameBetPanel").css("display","block"),jQuery("#right_hud_"+gameInstId).addClass("selected")},clientAddedListener=function(e,t,n){var r;return r=new zzGlobals.UserVO(t,arguments[3]),config.isDevEnvironment&&console.log("user added and triggered : [UserVO:",r,",clientId:"+t+",args:"+arguments[3]+"]"),jDocument.trigger(zzEvents.CLIENT_JOINED,r),jDocument.trigger(zzEvents.RECEIVE_USERVO,[r,!0])},clientRemovedListener=function(e,t){var n;n=t;if(t&&zzGlobals.userVOsIndex[t])return jDocument.trigger(zzEvents.REMOVE_USERVO,t)},messageListener=function(e,t,n,r,i){return jDocument.trigger(zzEvents.SERVER_MESSAGE,[e,t,n,r,i,orbiter.getClientID()])},clientAttrUpdateListener=function(e,t,n,r,i){if(zzGlobals.currentUserDBId===n&&zzGlobals.clientVars[r])return zzGlobals.clientVars[r]=i,jDocument.trigger("client:"+r,i)},init=function(){orbiter=new net.user1.orbiter.Orbiter,msgManager=orbiter.getMessageManager(),addOloListeners(),config.isDevEnvironment&&(console.log("defining UPC"),console.log("ololisteners :",zzListeners),console.log("UPC definition completed!"));if(!orbiter.getSystem().isJavaScriptCompatible()){oloGame.displayChatMessage("systemChatMessage","Your browser is not supported.");return}return orbiter&&(orbiter.addEventListener(net.user1.orbiter.OrbiterEvent.READY,readyListener,this),orbiter.addEventListener(net.user1.orbiter.OrbiterEvent.CLOSE,closeListener,this)),jQuery(function(){return orbiter.connect(config.unionConnection.url,config.unionConnection.port)})},askClientData=function(e){return config.isDevEnvironment&&console.log("askfordata"),msgManager.sendUPC(UPC.SEND_SERVERMODULE_MESSAGE,config.unionGameServerId,"REQ","C|AGD","UID|"+zzGlobals.currentUserDBId)},readyListener=function(e){return msgManager.sendUPC(UPC.SEND_SERVERMODULE_MESSAGE,config.unionGameServerId,"REQ","C|LI","UI|"+userLoginId,"GI|"+gameInstId),jDocument.bind(zzEvents.SEND_UPC_MESSAGE,sendUpcMessageToServer)},gameChangeListener=function(e,gameInstIdTemp){var flag_roundBetsDrawn,flag_roundDrawn;return console.log(gameInstIdTemp),typeof gameInstIdTemp=="undefined"?eval("gameInstIdTemp = gameInstId"):eval("gameInstId = gameInstIdTemp"),zzGlobals.roomVars.FR=-1,flag_roundDrawn=!1,flag_roundBetsDrawn=!1,msgManager.sendUPC(UPC.SEND_SERVERMODULE_MESSAGE,config.unionGameServerId,"REQ","C|CG","UI|"+userLoginId,"GI|"+gameInstIdTemp)},jDocument.bind("gameChangeListener",gameChangeListener),sendDeclinedToServer=function(e,t){return jQuery("#accept_decline_"+t).text(""),jQuery("#accept_decline_"+t).css("cursor","default"),jQuery("#accept_decline_"+t).html('<div id="floatingBarsGs">\n<div class="blockG" id="rotateG_01">\n</div>\n<div class="blockG" id="rotateG_02">\n</div>\n<div class="blockG" id="rotateG_03">\n</div>\n<div class="blockG" id="rotateG_04">\n</div>\n<div class="blockG" id="rotateG_05">\n</div>\n<div class="blockG" id="rotateG_06">\n</div>\n<div class="blockG" id="rotateG_07">\n</div>\n<div class="blockG" id="rotateG_08">\n</div>\n</div>'),msgManager.sendUPC(UPC.SEND_SERVERMODULE_MESSAGE,config.unionGameServerId,"REQ","C|DG","GSID|"+e)},sendUpcMessageToServer=function(e,t,n,r,i,s,o){var u,a,f,l;config.isDevEnvironment&&console.log("sending upc message [upcFunctionCode:"+t+",p2:"+n+",p3:"+r+",p4:"+i+",p5:"+s+",p6:"+o+"]"),u=[];for(a=f=0,l=arguments.length;0<=l?f<l:f>l;a=0<=l?++f:--f){if(a===0)continue;arguments[a]?u.push(arguments[a]):u.push("")}config.isDevEnvironment&&console.log(u);if(t)return msgManager.sendUPC.apply(msgManager,u)},onLogoutResult=function(e,t){if(parseInt(unionClientId)===parseInt(e))return window.location="http://"+document.domain+baseUrl+"/site/closesession"},zzListeners={JOINED_ROOM:joinedRoomListener,CLIENT_ADDED_TO_ROOM:clientAddedListener,CLIENT_REMOVED_FROM_ROOM:clientRemovedListener,ROOM_SNAPSHOT:roomSnapshotListener,CLIENT_SNAPSHOT:clientSnapshotListener,ROOM_ATTR_UPDATE:roomAttrUpdateListener,CLIENT_ATTR_UPDATE:clientAttrUpdateListener,ROOM_OCCUPANTCOUNT_UPDATE:roomOccupantCountUpdateListener,LOGGED_IN:onLoginResult,LOGGED_OFF:onLogoutResult,RECEIVE_MESSAGE:messageListener,GET_CLIENT_SNAPSHOT_RESULT:getClientSnapshotResult},addOloListeners=function(){var e,t;t=[];for(e in zzListeners)msgManager&&msgManager.addMessageListener?zzListeners[e]==="messageListener"?t.push(msgManager.addMessageListener(UPC[e],zzListeners[e],this,gameInstId)):t.push(msgManager.addMessageListener(UPC[e],zzListeners[e],this)):t.push(void 0);return t},zzUnionConnection}()})